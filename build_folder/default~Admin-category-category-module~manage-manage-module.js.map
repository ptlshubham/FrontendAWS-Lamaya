{"version":3,"sources":["../../projects/lib/src/lib/formats.ts","../../projects/lib/src/lib/helpers.ts","../../projects/lib/src/lib/color-picker.service.ts","../../projects/lib/src/lib/color-picker.component.ts","../../projects/lib/src/lib/color-picker.directive.ts","../../projects/lib/src/lib/color-picker.module.ts","../../../projects/lib/src/ngx-color-picker.ts"],"names":[],"mappings":"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","file":"default~Admin-category-category-module~manage-manage-module.js","sourcesContent":["export enum ColorFormats {\n  HEX,\n  RGBA,\n  HSLA,\n  CMYK\n}\n\nexport class Rgba {\n  constructor(public r: number, public g: number, public b: number, public a: number) {}\n}\n\nexport class Hsva {\n  constructor(public h: number, public s: number, public v: number, public a: number) {}\n}\n\nexport class Hsla {\n  constructor(public h: number, public s: number, public l: number, public a: number) {}\n}\n\nexport class Cmyk {\n  constructor(public c: number, public m: number, public y: number, public k: number, public a: number = 1) {}\n}\n","import { Directive, Input, Output, EventEmitter, HostListener, ElementRef } from '@angular/core';\n\nexport type ColorMode = 'color' | 'c' | '1' |\n  'grayscale' | 'g' | '2' | 'presets' | 'p' | '3';\n\nexport type AlphaChannel = 'enabled' | 'disabled' | 'always' | 'forced';\n\nexport type BoundingRectangle = {\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  height: number;\n  width: number;\n};\n\nexport type OutputFormat = 'auto' | 'hex' | 'rgba' | 'hsla';\n\nexport function calculateAutoPositioning(elBounds: BoundingRectangle, triggerElBounds: BoundingRectangle): string {\n  // Defaults\n  let usePositionX = 'right';\n  let usePositionY = 'bottom';\n  // Calculate collisions\n  const { height, width } = elBounds;\n  const { top, left } = triggerElBounds;\n  const bottom = top + triggerElBounds.height;\n  const right = left + triggerElBounds.width;\n\n  const collisionTop = top - height < 0;\n  const collisionBottom = bottom + height > (window.innerHeight || document.documentElement.clientHeight);\n  const collisionLeft = left - width < 0;\n  const collisionRight = right + width > (window.innerWidth || document.documentElement.clientWidth);\n  const collisionAll = collisionTop && collisionBottom && collisionLeft && collisionRight;\n\n  // Generate X & Y position values\n  if (collisionBottom) {\n    usePositionY = 'top';\n  }\n\n  if (collisionTop) {\n    usePositionY = 'bottom';\n  }\n\n  if (collisionLeft) {\n    usePositionX = 'right';\n  }\n\n  if (collisionRight) {\n    usePositionX = 'left';\n  }\n\n\n  // Choose the largest gap available\n  if (collisionAll) {\n    const postions = ['left', 'right', 'top', 'bottom'];\n    return postions.reduce((prev, next) => elBounds[prev] > elBounds[next] ? prev : next);\n  }\n\n  if ((collisionLeft && collisionRight)) {\n    if (collisionTop) { return 'bottom'; }\n    if (collisionBottom) { return 'top'; }\n    return top > bottom ? 'top' : 'bottom';\n  }\n\n  if ((collisionTop && collisionBottom)) {\n    if (collisionLeft) { return 'right'; }\n    if (collisionRight) { return 'left'; }\n    return left > right ? 'left' : 'right';\n  }\n\n  return `${usePositionY}-${usePositionX}`;\n}\n\nexport function detectIE(): boolean | number {\n  let ua = '';\n\n  if (typeof navigator !== 'undefined') {\n    ua = navigator.userAgent.toLowerCase();\n  }\n\n  const msie = ua.indexOf('msie ');\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  // Other browser\n  return false;\n}\n\n@Directive({\n  selector: '[text]'\n})\nexport class TextDirective {\n  @Input() rg: number;\n  @Input() text: any;\n\n  @Output() newValue = new EventEmitter<any>();\n\n  @HostListener('input', ['$event']) inputChange(event: any): void {\n    const value = event.target.value;\n\n    if (this.rg === undefined) {\n      this.newValue.emit(value);\n    } else {\n      const numeric = parseFloat(value);\n\n      this.newValue.emit({ v: numeric, rg: this.rg });\n    }\n  }\n}\n\n@Directive({\n  selector: '[slider]'\n})\nexport class SliderDirective {\n  private listenerMove: any;\n  private listenerStop: any;\n\n  @Input() rgX: number;\n  @Input() rgY: number;\n\n  @Input() slider: string;\n\n  @Output() dragEnd = new EventEmitter();\n  @Output() dragStart = new EventEmitter();\n\n  @Output() newValue = new EventEmitter<any>();\n\n  @HostListener('mousedown', ['$event']) mouseDown(event: any): void {\n    this.start(event);\n  }\n\n  @HostListener('touchstart', ['$event']) touchStart(event: any): void {\n    this.start(event);\n  }\n\n  constructor(private elRef: ElementRef) {\n    this.listenerMove = (event: any) => this.move(event);\n\n    this.listenerStop = () => this.stop();\n  }\n\n  private move(event: any): void {\n    event.preventDefault();\n\n    this.setCursor(event);\n  }\n\n  private start(event: any): void {\n    this.setCursor(event);\n\n    event.stopPropagation();\n\n    document.addEventListener('mouseup', this.listenerStop);\n    document.addEventListener('touchend', this.listenerStop);\n    document.addEventListener('mousemove', this.listenerMove);\n    document.addEventListener('touchmove', this.listenerMove);\n\n    this.dragStart.emit();\n  }\n\n  private stop(): void {\n    document.removeEventListener('mouseup', this.listenerStop);\n    document.removeEventListener('touchend', this.listenerStop);\n    document.removeEventListener('mousemove', this.listenerMove);\n    document.removeEventListener('touchmove', this.listenerMove);\n\n    this.dragEnd.emit();\n  }\n\n  private getX(event: any): number {\n    const position = this.elRef.nativeElement.getBoundingClientRect();\n\n    const pageX = (event.pageX !== undefined) ? event.pageX : event.touches[0].pageX;\n\n    return pageX - position.left - window.pageXOffset;\n  }\n\n  private getY(event: any): number {\n    const position = this.elRef.nativeElement.getBoundingClientRect();\n\n    const pageY = (event.pageY !== undefined) ? event.pageY : event.touches[0].pageY;\n\n    return pageY - position.top - window.pageYOffset;\n  }\n\n  private setCursor(event: any): void {\n    const width = this.elRef.nativeElement.offsetWidth;\n    const height = this.elRef.nativeElement.offsetHeight;\n\n    const x = Math.max(0, Math.min(this.getX(event), width));\n    const y = Math.max(0, Math.min(this.getY(event), height));\n\n    if (this.rgX !== undefined && this.rgY !== undefined) {\n      this.newValue.emit({ s: x / width, v: (1 - y / height), rgX: this.rgX, rgY: this.rgY });\n    } else if (this.rgX === undefined && this.rgY !== undefined) {\n      this.newValue.emit({ v: y / height, rgY: this.rgY });\n    } else if (this.rgX !== undefined && this.rgY === undefined) {\n      this.newValue.emit({ v: x / width, rgX: this.rgX });\n    }\n  }\n}\n\nexport class SliderPosition {\n  constructor(public h: number, public s: number, public v: number, public a: number) {}\n}\n\nexport class SliderDimension {\n  constructor(public h: number, public s: number, public v: number, public a: number) {}\n}\n","import { Injectable } from '@angular/core';\n\nimport { Cmyk, Rgba, Hsla, Hsva } from './formats';\n\nimport { ColorPickerComponent } from './color-picker.component';\n\n@Injectable()\nexport class ColorPickerService {\n  private active: ColorPickerComponent | null = null;\n\n  constructor() {}\n\n  public setActive(active: ColorPickerComponent | null): void {\n    if (this.active && this.active !== active && this.active.cpDialogDisplay !== 'inline') {\n      this.active.closeDialog();\n    }\n\n    this.active = active;\n  }\n\n  public hsva2hsla(hsva: Hsva): Hsla {\n    const h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;\n\n    if (v === 0) {\n      return new Hsla(h, 0, 0, a);\n    } else if (s === 0 && v === 1) {\n      return new Hsla(h, 1, 1, a);\n    } else {\n      const l = v * (2 - s) / 2;\n\n      return new Hsla(h, v * s / (1 - Math.abs(2 * l - 1)), l, a);\n    }\n  }\n\n  public hsla2hsva(hsla: Hsla): Hsva {\n    const h = Math.min(hsla.h, 1), s = Math.min(hsla.s, 1);\n    const l = Math.min(hsla.l, 1), a = Math.min(hsla.a, 1);\n\n    if (l === 0) {\n      return new Hsva(h, 0, 0, a);\n    } else {\n      const v = l + s * (1 - Math.abs(2 * l - 1)) / 2;\n\n      return new Hsva(h, 2 * (v - l) / v, v, a);\n    }\n  }\n\n  public hsvaToRgba(hsva: Hsva): Rgba {\n    let r: number, g: number, b: number;\n\n    const h = hsva.h, s = hsva.s, v = hsva.v, a = hsva.a;\n\n    const i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v, g = t, b = p;\n        break;\n      case 1:\n        r = q, g = v, b = p;\n        break;\n      case 2:\n        r = p, g = v, b = t;\n        break;\n      case 3:\n        r = p, g = q, b = v;\n        break;\n      case 4:\n        r = t, g = p, b = v;\n        break;\n      case 5:\n        r = v, g = p, b = q;\n        break;\n      default:\n        r = 0, g = 0, b = 0;\n    }\n\n    return new Rgba(r, g, b, a);\n  }\n\n  public cmykToRgb(cmyk: Cmyk): Rgba {\n    const r = ( 1 - cmyk.c ) * (1 - cmyk.k);\n    const g = ( 1 - cmyk.m ) * (1 - cmyk.k);\n    const b = ( 1 - cmyk.y ) * (1 - cmyk.k);\n\n    return new Rgba(r, g, b, cmyk.a);\n  }\n\n  public rgbaToCmyk(rgba: Rgba): Cmyk {\n    const k: number = 1 - Math.max(rgba.r, rgba.g, rgba.b);\n\n    if (k === 1) {\n      return new Cmyk(0, 0, 0, 1, rgba.a);\n    } else {\n      const c = (1 - rgba.r - k) / (1 - k);\n      const m = (1 - rgba.g - k) / (1 - k);\n      const y = (1 - rgba.b - k) / (1 - k);\n\n      return new Cmyk(c, m, y, k, rgba.a);\n    }\n  }\n\n  public rgbaToHsva(rgba: Rgba): Hsva {\n    let h: number, s: number;\n\n    const r = Math.min(rgba.r, 1), g = Math.min(rgba.g, 1);\n    const b = Math.min(rgba.b, 1), a = Math.min(rgba.a, 1);\n\n    const max = Math.max(r, g, b), min = Math.min(r, g, b);\n\n    const v: number = max, d = max - min;\n\n    s = (max === 0) ? 0 : d / max;\n\n    if (max === min) {\n      h = 0;\n    } else {\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n        case g:\n          h = (b - r) / d + 2;\n          break;\n        case b:\n          h = (r - g) / d + 4;\n          break;\n        default:\n          h = 0;\n      }\n\n      h /= 6;\n    }\n\n    return new Hsva(h, s, v, a);\n  }\n\n  public rgbaToHex(rgba: Rgba, allowHex8?: boolean): string {\n    /* tslint:disable:no-bitwise */\n    let hex = '#' + ((1 << 24) | (rgba.r << 16) | (rgba.g << 8) | rgba.b).toString(16).substr(1);\n\n    if (allowHex8) {\n      hex += ((1 << 8) | Math.round(rgba.a * 255)).toString(16).substr(1);\n    }\n    /* tslint:enable:no-bitwise */\n\n    return hex;\n  }\n\n  public normalizeCMYK(cmyk: Cmyk): Cmyk {\n    return new Cmyk(cmyk.c / 100, cmyk.m / 100, cmyk.y / 100, cmyk.k / 100, cmyk.a);\n  }\n\n  public denormalizeCMYK(cmyk: Cmyk): Cmyk {\n    return new Cmyk(Math.floor(cmyk.c * 100), Math.floor(cmyk.m * 100), Math.floor(cmyk.y * 100),\n      Math.floor(cmyk.k * 100), cmyk.a);\n  }\n\n  public denormalizeRGBA(rgba: Rgba): Rgba {\n    return new Rgba(Math.round(rgba.r * 255), Math.round(rgba.g * 255), Math.round(rgba.b * 255), rgba.a);\n  }\n\n  public stringToHsva(colorString: string = '', allowHex8: boolean = false): Hsva | null {\n    let hsva: Hsva | null = null;\n\n    colorString = (colorString || '').toLowerCase();\n\n    const stringParsers = [\n      {\n        re: /(rgb)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*%?,\\s*(\\d{1,3})\\s*%?(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\n        parse: function(execResult: any) {\n          return new Rgba(parseInt(execResult[2], 10) / 255,\n            parseInt(execResult[3], 10) / 255,\n            parseInt(execResult[4], 10) / 255,\n            isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\n        }\n      }, {\n        re: /(hsl)a?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})%\\s*,\\s*(\\d{1,3})%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\n        parse: function(execResult: any) {\n          return new Hsla(parseInt(execResult[2], 10) / 360,\n            parseInt(execResult[3], 10) / 100,\n            parseInt(execResult[4], 10) / 100,\n            isNaN(parseFloat(execResult[5])) ? 1 : parseFloat(execResult[5]));\n        }\n      }\n    ];\n\n    if (allowHex8) {\n      stringParsers.push({\n        re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,\n        parse: function(execResult: any) {\n          return new Rgba(parseInt(execResult[1], 16) / 255,\n            parseInt(execResult[2], 16) / 255,\n            parseInt(execResult[3], 16) / 255,\n            parseInt(execResult[4] || 'FF', 16) / 255);\n        }\n      });\n    } else {\n      stringParsers.push({\n        re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,\n        parse: function(execResult: any) {\n          return new Rgba(parseInt(execResult[1], 16) / 255,\n            parseInt(execResult[2], 16) / 255,\n            parseInt(execResult[3], 16) / 255,\n            1);\n        }\n      });\n    }\n\n    stringParsers.push({\n      re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,\n      parse: function(execResult: any) {\n        return new Rgba(parseInt(execResult[1] + execResult[1], 16) / 255,\n          parseInt(execResult[2] + execResult[2], 16) / 255,\n          parseInt(execResult[3] + execResult[3], 16) / 255,\n          1);\n      }\n    });\n\n    for (const key in stringParsers) {\n      if (stringParsers.hasOwnProperty(key)) {\n        const parser = stringParsers[key];\n\n        const match = parser.re.exec(colorString), color: any = match && parser.parse(match);\n\n        if (color) {\n          if (color instanceof Rgba) {\n            hsva = this.rgbaToHsva(color);\n          } else if (color instanceof Hsla) {\n            hsva = this.hsla2hsva(color);\n          }\n\n          return hsva;\n        }\n      }\n    }\n\n    return hsva;\n  }\n\n  public outputFormat(hsva: Hsva, outputFormat: string, alphaChannel: string | null): string {\n    if (outputFormat === 'auto') {\n      outputFormat = hsva.a < 1 ? 'rgba' : 'hex';\n    }\n\n    switch (outputFormat) {\n      case 'hsla':\n        const hsla = this.hsva2hsla(hsva);\n\n        const hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100),\n          Math.round(hsla.l * 100), Math.round(hsla.a * 100) / 100);\n\n        if (hsva.a < 1 || alphaChannel === 'always') {\n          return 'hsla(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%,' +\n            hslaText.a + ')';\n        } else {\n          return 'hsl(' + hslaText.h + ',' + hslaText.s + '%,' + hslaText.l + '%)';\n        }\n\n      case 'rgba':\n        const rgba = this.denormalizeRGBA(this.hsvaToRgba(hsva));\n\n        if (hsva.a < 1 || alphaChannel === 'always') {\n          return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' +\n            Math.round(rgba.a * 100) / 100 + ')';\n        } else {\n          return 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\n        }\n\n      default:\n        const allowHex8 = (alphaChannel === 'always' || alphaChannel === 'forced');\n\n        return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(hsva)), allowHex8);\n    }\n  }\n}\n","import { Component, OnInit, OnDestroy, AfterViewInit,\n  ViewChild, HostListener, ViewEncapsulation,\n  ElementRef, ChangeDetectorRef } from '@angular/core';\n\nimport { detectIE, calculateAutoPositioning } from './helpers';\n\nimport { ColorFormats, Cmyk, Hsla, Hsva, Rgba } from './formats';\nimport { AlphaChannel, OutputFormat, SliderDimension, SliderPosition } from './helpers';\n\nimport { ColorPickerService } from './color-picker.service';\n\n@Component({\n  selector: 'color-picker',\n  templateUrl: './color-picker.component.html',\n  styleUrls: [ './color-picker.component.css' ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ColorPickerComponent implements OnInit, OnDestroy, AfterViewInit {\n  private isIE10: boolean = false;\n\n  private cmyk: Cmyk;\n  private hsva: Hsva;\n\n  private width: number;\n  private height: number;\n\n  private cmykColor: string;\n  private outputColor: string;\n  private initialColor: string;\n  private fallbackColor: string;\n\n  private listenerResize: any;\n  private listenerMouseDown: any;\n\n  private directiveInstance: any;\n\n  private sliderH: number;\n  private sliderDimMax: SliderDimension;\n  private directiveElementRef: ElementRef;\n\n  private dialogArrowSize: number = 10;\n  private dialogArrowOffset: number = 15;\n\n  private dialogInputFields: ColorFormats[] = [\n    ColorFormats.HEX,\n    ColorFormats.RGBA,\n    ColorFormats.HSLA,\n    ColorFormats.CMYK\n  ];\n\n  private useRootViewContainer: boolean = false;\n\n  public show: boolean;\n  public hidden: boolean;\n\n  public top: number;\n  public left: number;\n  public position: string;\n\n  public format: ColorFormats;\n  public slider: SliderPosition;\n\n  public hexText: string;\n  public hexAlpha: number;\n\n  public cmykText: Cmyk;\n  public hslaText: Hsla;\n  public rgbaText: Rgba;\n\n  public arrowTop: number;\n\n  public selectedColor: string;\n  public hueSliderColor: string;\n  public alphaSliderColor: string;\n\n  public cpWidth: number;\n  public cpHeight: number;\n\n  public cpColorMode: number;\n\n  public cpCmykEnabled: boolean;\n\n  public cpAlphaChannel: AlphaChannel;\n  public cpOutputFormat: OutputFormat;\n\n  public cpDisableInput: boolean;\n  public cpDialogDisplay: string;\n\n  public cpIgnoredElements: any;\n\n  public cpSaveClickOutside: boolean;\n  public cpCloseClickOutside: boolean;\n\n  public cpPosition: string;\n  public cpUsePosition: string;\n  public cpPositionOffset: number;\n\n  public cpOKButton: boolean;\n  public cpOKButtonText: string;\n  public cpOKButtonClass: string;\n\n  public cpCancelButton: boolean;\n  public cpCancelButtonText: string;\n  public cpCancelButtonClass: string;\n\n  public cpPresetLabel: string;\n  public cpPresetColors: string[];\n  public cpPresetColorsClass: string;\n  public cpMaxPresetColorsLength: number;\n\n  public cpPresetEmptyMessage: string;\n  public cpPresetEmptyMessageClass: string;\n\n  public cpAddColorButton: boolean;\n  public cpAddColorButtonText: string;\n  public cpAddColorButtonClass: string;\n  public cpRemoveColorButtonClass: string;\n\n  public cpTriggerElement: ElementRef;\n\n  @ViewChild('dialogPopup', { static: true }) dialogElement: ElementRef;\n\n  @ViewChild('hueSlider', { static: true }) hueSlider: ElementRef;\n  @ViewChild('alphaSlider', { static: true }) alphaSlider: ElementRef;\n\n  @HostListener('document:keyup.esc', ['$event']) handleEsc(event: any): void {\n    if (this.show && this.cpDialogDisplay === 'popup') {\n      this.onCancelColor(event);\n    }\n  }\n\n  @HostListener('document:keyup.enter', ['$event']) handleEnter(event: any): void {\n    if (this.show && this.cpDialogDisplay === 'popup') {\n      this.onAcceptColor(event);\n    }\n  }\n\n  constructor(private elRef: ElementRef, private cdRef: ChangeDetectorRef, private service: ColorPickerService) {}\n\n  ngOnInit(): void {\n    this.slider = new SliderPosition(0, 0, 0, 0);\n\n    const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\n    const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\n\n    this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\n\n    if (this.cpCmykEnabled) {\n      this.format = ColorFormats.CMYK;\n    } else if (this.cpOutputFormat === 'rgba') {\n      this.format = ColorFormats.RGBA;\n    } else if (this.cpOutputFormat === 'hsla') {\n      this.format = ColorFormats.HSLA;\n    } else {\n      this.format = ColorFormats.HEX;\n    }\n\n    this.listenerMouseDown = (event: any) => { this.onMouseDown(event); };\n    this.listenerResize = () => { this.onResize(); };\n\n    this.openDialog(this.initialColor, false);\n  }\n\n  ngOnDestroy(): void {\n    this.closeDialog();\n  }\n\n  ngAfterViewInit(): void {\n    if (this.cpWidth !== 230 ||this.cpDialogDisplay === 'inline') {\n      const hueWidth = this.hueSlider.nativeElement.offsetWidth || 140;\n      const alphaWidth = this.alphaSlider.nativeElement.offsetWidth || 140;\n\n      this.sliderDimMax = new SliderDimension(hueWidth, this.cpWidth, 130, alphaWidth);\n\n      this.updateColorPicker(false);\n\n      this.cdRef.detectChanges();\n    }\n  }\n\n  public openDialog(color: any, emit: boolean = true): void {\n    this.service.setActive(this);\n\n    if (!this.width) {\n      this.cpWidth = this.directiveElementRef.nativeElement.offsetWidth;\n    }\n\n    if (!this.height) {\n      this.height = 320;\n    }\n\n    this.setInitialColor(color);\n\n    this.setColorFromString(color, emit);\n\n    this.openColorPicker();\n  }\n\n  public closeDialog(): void {\n    this.closeColorPicker();\n  }\n\n  public setupDialog(instance: any, elementRef: ElementRef, color: any,\n    cpWidth: string, cpHeight: string, cpDialogDisplay: string, cpFallbackColor: string,\n    cpColorMode: string, cpCmykEnabled: boolean, cpAlphaChannel: AlphaChannel,\n    cpOutputFormat: OutputFormat, cpDisableInput: boolean, cpIgnoredElements: any,\n    cpSaveClickOutside: boolean, cpCloseClickOutside: boolean, cpUseRootViewContainer: boolean,\n    cpPosition: string, cpPositionOffset: string, cpPositionRelativeToArrow: boolean,\n    cpPresetLabel: string, cpPresetColors: string[], cpPresetColorsClass: string,\n    cpMaxPresetColorsLength: number, cpPresetEmptyMessage: string,\n    cpPresetEmptyMessageClass: string, cpOKButton: boolean, cpOKButtonClass: string,\n    cpOKButtonText: string, cpCancelButton: boolean, cpCancelButtonClass: string,\n    cpCancelButtonText: string, cpAddColorButton: boolean, cpAddColorButtonClass: string,\n    cpAddColorButtonText: string, cpRemoveColorButtonClass: string, cpTriggerElement: ElementRef): void\n  {\n    this.setInitialColor(color);\n\n    this.setColorMode(cpColorMode);\n\n    this.isIE10 = (detectIE() === 10);\n\n    this.directiveInstance = instance;\n    this.directiveElementRef = elementRef;\n\n    this.cpDisableInput = cpDisableInput;\n\n    this.cpCmykEnabled = cpCmykEnabled;\n    this.cpAlphaChannel = cpAlphaChannel;\n    this.cpOutputFormat = cpOutputFormat;\n\n    this.cpDialogDisplay = cpDialogDisplay;\n\n    this.cpIgnoredElements = cpIgnoredElements;\n\n    this.cpSaveClickOutside = cpSaveClickOutside;\n    this.cpCloseClickOutside = cpCloseClickOutside;\n\n    this.useRootViewContainer = cpUseRootViewContainer;\n\n    this.width = this.cpWidth = parseInt(cpWidth, 10);\n    this.height = this.cpHeight = parseInt(cpHeight, 10);\n\n    this.cpPosition = cpPosition;\n    this.cpPositionOffset = parseInt(cpPositionOffset, 10);\n\n    this.cpOKButton = cpOKButton;\n    this.cpOKButtonText = cpOKButtonText;\n    this.cpOKButtonClass = cpOKButtonClass;\n\n    this.cpCancelButton = cpCancelButton;\n    this.cpCancelButtonText = cpCancelButtonText;\n    this.cpCancelButtonClass = cpCancelButtonClass;\n\n    this.fallbackColor = cpFallbackColor || '#fff';\n\n    this.setPresetConfig(cpPresetLabel, cpPresetColors);\n\n    this.cpPresetColorsClass = cpPresetColorsClass;\n    this.cpMaxPresetColorsLength = cpMaxPresetColorsLength;\n    this.cpPresetEmptyMessage = cpPresetEmptyMessage;\n    this.cpPresetEmptyMessageClass = cpPresetEmptyMessageClass;\n\n    this.cpAddColorButton = cpAddColorButton;\n    this.cpAddColorButtonText = cpAddColorButtonText;\n    this.cpAddColorButtonClass = cpAddColorButtonClass;\n    this.cpRemoveColorButtonClass = cpRemoveColorButtonClass;\n\n    this.cpTriggerElement = cpTriggerElement;\n\n    if (!cpPositionRelativeToArrow) {\n      this.dialogArrowOffset = 0;\n    }\n\n    if (cpDialogDisplay === 'inline') {\n      this.dialogArrowSize = 0;\n      this.dialogArrowOffset = 0;\n    }\n\n    if (cpOutputFormat === 'hex' &&\n        cpAlphaChannel !== 'always' && cpAlphaChannel !== 'forced')\n    {\n      this.cpAlphaChannel = 'disabled';\n    }\n  }\n\n  public setColorMode(mode: string): void {\n    switch (mode.toString().toUpperCase()) {\n      case '1':\n      case 'C':\n      case 'COLOR':\n        this.cpColorMode = 1;\n        break;\n      case '2':\n      case 'G':\n      case 'GRAYSCALE':\n        this.cpColorMode = 2;\n        break;\n      case '3':\n      case 'P':\n      case 'PRESETS':\n        this.cpColorMode = 3;\n        break;\n      default:\n        this.cpColorMode = 1;\n    }\n  }\n\n  public setInitialColor(color: any): void {\n    this.initialColor = color;\n  }\n\n  public setPresetConfig(cpPresetLabel: string, cpPresetColors: string[]): void {\n    this.cpPresetLabel = cpPresetLabel;\n    this.cpPresetColors = cpPresetColors;\n  }\n\n  public setColorFromString(value: string, emit: boolean = true, update: boolean = true): void {\n    let hsva: Hsva | null;\n\n    if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'forced') {\n      hsva = this.service.stringToHsva(value, true);\n\n      if (!hsva && !this.hsva) {\n        hsva = this.service.stringToHsva(value, false);\n      }\n    } else {\n      hsva = this.service.stringToHsva(value, false);\n    }\n\n    if (!hsva && !this.hsva) {\n      hsva = this.service.stringToHsva(this.fallbackColor, false);\n    }\n\n    if (hsva) {\n      this.hsva = hsva;\n\n      this.sliderH = this.hsva.h;\n\n      if (this.cpOutputFormat === 'hex' && this.cpAlphaChannel === 'disabled') {\n        this.hsva.a = 1;\n      }\n\n      this.updateColorPicker(emit, update);\n    }\n  }\n\n  public onResize(): void {\n    if (this.position === 'fixed') {\n      this.setDialogPosition();\n    } else if (this.cpDialogDisplay !== 'inline') {\n      this.closeColorPicker();\n    }\n  }\n\n  public onDragEnd(slider: string): void {\n    this.directiveInstance.sliderDragEnd({ slider: slider, color: this.outputColor });\n  }\n\n  public onDragStart(slider: string): void {\n    this.directiveInstance.sliderDragStart({ slider: slider, color: this.outputColor });\n  }\n\n  public onMouseDown(event: MouseEvent): void {\n    if (this.show &&\n        !this.isIE10 && this.cpDialogDisplay === 'popup' &&\n        event.target !== this.directiveElementRef.nativeElement &&\n        !this.isDescendant(this.elRef.nativeElement, event.target) &&\n        !this.isDescendant(this.directiveElementRef.nativeElement, event.target) &&\n        this.cpIgnoredElements.filter((item: any) => item === event.target).length === 0)\n    {\n      if (this.cpSaveClickOutside) {\n        this.directiveInstance.colorSelected(this.outputColor);\n      } else {\n        this.hsva = null;\n\n        this.setColorFromString(this.initialColor, false);\n\n        if (this.cpCmykEnabled) {\n          this.directiveInstance.cmykChanged(this.cmykColor);\n        }\n\n        this.directiveInstance.colorChanged(this.initialColor);\n\n        this.directiveInstance.colorCanceled();\n      }\n\n      if (this.cpCloseClickOutside) {\n        this.closeColorPicker();\n      }\n    }\n  }\n\n  public onAcceptColor(event: Event): void {\n    event.stopPropagation();\n\n    if (this.outputColor) {\n      this.directiveInstance.colorSelected(this.outputColor);\n    }\n\n    if (this.cpDialogDisplay === 'popup') {\n      this.closeColorPicker();\n    }\n  }\n\n  public onCancelColor(event: Event): void {\n    this.hsva = null;\n\n    event.stopPropagation();\n\n    this.directiveInstance.colorCanceled();\n\n    this.setColorFromString(this.initialColor, true);\n\n    if (this.cpDialogDisplay === 'popup') {\n      if (this.cpCmykEnabled) {\n        this.directiveInstance.cmykChanged(this.cmykColor);\n      }\n\n      this.directiveInstance.colorChanged(this.initialColor, true);\n\n      this.closeColorPicker();\n    }\n  }\n\n  public onFormatToggle(change: number): void {\n    const availableFormats = this.dialogInputFields.length -\n      (this.cpCmykEnabled ? 0 : 1);\n\n    const nextFormat = (((this.dialogInputFields.indexOf(this.format) + change) %\n      availableFormats) + availableFormats) % availableFormats;\n\n    this.format = this.dialogInputFields[nextFormat];\n  }\n\n  public onColorChange(value: { s: number, v: number, rgX: number, rgY: number }): void {\n    this.hsva.s = value.s / value.rgX;\n    this.hsva.v = value.v / value.rgY;\n\n    this.updateColorPicker();\n\n    this.directiveInstance.sliderChanged({\n      slider: 'lightness',\n      value: this.hsva.v,\n      color: this.outputColor\n    });\n\n    this.directiveInstance.sliderChanged({\n      slider: 'saturation',\n      value: this.hsva.s,\n      color: this.outputColor\n    });\n  }\n\n  public onHueChange(value: { v: number, rgX: number }): void {\n    this.hsva.h = value.v / value.rgX;\n    this.sliderH = this.hsva.h;\n\n    this.updateColorPicker();\n\n    this.directiveInstance.sliderChanged({\n      slider: 'hue',\n      value: this.hsva.h,\n      color: this.outputColor\n    });\n  }\n\n  public onValueChange(value: { v: number, rgX: number }): void {\n    this.hsva.v = value.v / value.rgX;\n\n    this.updateColorPicker();\n\n    this.directiveInstance.sliderChanged({\n      slider: 'value',\n      value: this.hsva.v,\n      color: this.outputColor\n    });\n  }\n\n  public onAlphaChange(value: { v: number, rgX: number }): void {\n    this.hsva.a = value.v / value.rgX;\n\n    this.updateColorPicker();\n\n    this.directiveInstance.sliderChanged({\n      slider: 'alpha',\n      value: this.hsva.a,\n      color: this.outputColor\n    });\n  }\n\n  public onHexInput(value: string | null): void {\n    if (value === null) {\n      this.updateColorPicker();\n    } else {\n      if (value && value[0] !== '#') {\n        value = '#' + value;\n      }\n\n      let validHex = /^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;\n\n      if (this.cpAlphaChannel === 'always') {\n        validHex = /^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi;\n      }\n\n      const valid = validHex.test(value);\n\n      if (valid) {\n        if (value.length < 5) {\n          value = '#' + value.substring(1)\n            .split('')\n            .map(c => c + c)\n            .join('');\n        }\n\n        if (this.cpAlphaChannel === 'forced') {\n          value += Math.round(this.hsva.a * 255).toString(16);\n        }\n\n        this.setColorFromString(value, true, false);\n      }\n\n      this.directiveInstance.inputChanged({\n        input: 'hex',\n        valid: valid,\n        value: value,\n        color: this.outputColor\n      });\n    }\n  }\n\n  public onRedInput(value: { v: number, rg: number }): void {\n    const rgba = this.service.hsvaToRgba(this.hsva);\n\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      rgba.r = value.v / value.rg;\n\n      this.hsva = this.service.rgbaToHsva(rgba);\n\n      this.sliderH = this.hsva.h;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'red',\n      valid: valid,\n      value: rgba.r,\n      color: this.outputColor\n    });\n  }\n\n  public onBlueInput(value: { v: number, rg: number }): void {\n    const rgba = this.service.hsvaToRgba(this.hsva);\n\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      rgba.b = value.v / value.rg;\n\n      this.hsva = this.service.rgbaToHsva(rgba);\n\n      this.sliderH = this.hsva.h;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'blue',\n      valid: valid,\n      value: rgba.b,\n      color: this.outputColor\n    });\n  }\n\n  public onGreenInput(value: { v: number, rg: number }): void {\n    const rgba = this.service.hsvaToRgba(this.hsva);\n\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      rgba.g = value.v / value.rg;\n\n      this.hsva = this.service.rgbaToHsva(rgba);\n\n      this.sliderH = this.hsva.h;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'green',\n      valid: valid,\n      value: rgba.g,\n      color: this.outputColor\n    });\n  }\n\n  public onHueInput(value: { v: number, rg: number }) {\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      this.hsva.h = value.v / value.rg;\n\n      this.sliderH = this.hsva.h;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'hue',\n      valid: valid,\n      value: this.hsva.h,\n      color: this.outputColor\n    });\n  }\n\n  public onValueInput(value: { v: number, rg: number }): void {\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      this.hsva.v = value.v / value.rg;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'value',\n      valid: valid,\n      value: this.hsva.v,\n      color: this.outputColor\n    });\n  }\n\n  public onAlphaInput(value: { v: number, rg: number }): void {\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      this.hsva.a = value.v / value.rg;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'alpha',\n      valid: valid,\n      value: this.hsva.a,\n      color: this.outputColor\n    });\n  }\n\n  public onLightnessInput(value: { v: number, rg: number }): void {\n    const hsla = this.service.hsva2hsla(this.hsva);\n\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      hsla.l = value.v / value.rg;\n\n      this.hsva = this.service.hsla2hsva(hsla);\n\n      this.sliderH = this.hsva.h;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'lightness',\n      valid: valid,\n      value: hsla.l,\n      color: this.outputColor\n    });\n  }\n\n  public onSaturationInput(value: { v: number, rg: number }): void {\n    const hsla = this.service.hsva2hsla(this.hsva);\n\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n    if (valid) {\n      hsla.s = value.v / value.rg;\n\n      this.hsva = this.service.hsla2hsva(hsla);\n\n      this.sliderH = this.hsva.h;\n\n      this.updateColorPicker();\n    }\n\n    this.directiveInstance.inputChanged({\n      input: 'saturation',\n      valid: valid,\n      value: hsla.s,\n      color: this.outputColor\n    });\n  }\n\n  public onCyanInput(value: { v: number, rg: number }): void {\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n     if (valid) {\n      this.cmyk.c = value.v;\n\n      this.updateColorPicker(false, true, true);\n    }\n\n     this.directiveInstance.inputChanged({\n      input: 'cyan',\n      valid: true,\n      value: this.cmyk.c,\n      color: this.outputColor\n    });\n  }\n\n   public onMagentaInput(value: { v: number, rg: number }): void {\n    const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n     if (valid) {\n      this.cmyk.m = value.v;\n\n      this.updateColorPicker(false, true, true);\n    }\n\n     this.directiveInstance.inputChanged({\n      input: 'magenta',\n      valid: true,\n      value: this.cmyk.m,\n      color: this.outputColor\n    });\n  }\n\n  public onYellowInput(value: { v: number, rg: number }): void {\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n     if (valid) {\n      this.cmyk.y = value.v;\n\n      this.updateColorPicker(false, true, true);\n    }\n\n     this.directiveInstance.inputChanged({\n      input: 'yellow',\n      valid: true,\n      value: this.cmyk.y,\n      color: this.outputColor\n    });\n  }\n\n   public onBlackInput(value: { v: number, rg: number }): void {\n     const valid = !isNaN(value.v) && value.v >= 0 && value.v <= value.rg;\n\n     if (valid) {\n      this.cmyk.k = value.v;\n\n      this.updateColorPicker(false, true, true);\n    }\n\n     this.directiveInstance.inputChanged({\n      input: 'black',\n      valid: true,\n      value: this.cmyk.k,\n      color: this.outputColor\n    });\n  }\n\n  public onAddPresetColor(event: any, value: string): void {\n    event.stopPropagation();\n\n    if (!this.cpPresetColors.filter((color) => (color === value)).length) {\n      this.cpPresetColors = this.cpPresetColors.concat(value);\n\n      this.directiveInstance.presetColorsChanged(this.cpPresetColors);\n    }\n  }\n\n  public onRemovePresetColor(event: any, value: string): void {\n    event.stopPropagation();\n\n    this.cpPresetColors = this.cpPresetColors.filter((color) => (color !== value));\n\n    this.directiveInstance.presetColorsChanged(this.cpPresetColors);\n  }\n\n  // Private helper functions for the color picker dialog status\n\n  private openColorPicker(): void {\n    if (!this.show) {\n      this.show = true;\n      this.hidden = true;\n\n      setTimeout(() => {\n        this.hidden = false;\n\n        this.setDialogPosition();\n\n        this.cdRef.detectChanges();\n      }, 0);\n\n      this.directiveInstance.stateChanged(true);\n\n      if (!this.isIE10) {\n        document.addEventListener('mousedown', this.listenerMouseDown);\n        document.addEventListener('touchstart', this.listenerMouseDown);\n      }\n\n      window.addEventListener('resize', this.listenerResize);\n    }\n  }\n\n  private closeColorPicker(): void {\n    if (this.show) {\n      this.show = false;\n\n      this.directiveInstance.stateChanged(false);\n\n      if (!this.isIE10) {\n        document.removeEventListener('mousedown', this.listenerMouseDown);\n        document.removeEventListener('touchstart', this.listenerMouseDown);\n      }\n\n      window.removeEventListener('resize', this.listenerResize);\n\n      if (!this.cdRef['destroyed']) {\n        this.cdRef.detectChanges();\n      }\n    }\n  }\n\n  private updateColorPicker(emit: boolean = true, update: boolean = true, cmykInput: boolean = false): void {\n    if (this.sliderDimMax) {\n      if (this.cpColorMode === 2) {\n        this.hsva.s = 0;\n      }\n\n      let hue: Rgba, hsla: Hsla, rgba: Rgba;\n\n      const lastOutput = this.outputColor;\n\n      hsla = this.service.hsva2hsla(this.hsva);\n\n      if (!this.cpCmykEnabled) {\n        rgba = this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva));\n      } else {\n        if (!cmykInput) {\n          rgba = this.service.hsvaToRgba(this.hsva);\n\n          this.cmyk = this.service.denormalizeCMYK(this.service.rgbaToCmyk(rgba));\n        } else {\n          rgba = this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk));\n\n          this.hsva = this.service.rgbaToHsva(rgba);\n        }\n\n        rgba = this.service.denormalizeRGBA(rgba);\n\n        this.sliderH = this.hsva.h;\n      }\n\n      hue = this.service.denormalizeRGBA(this.service.hsvaToRgba(new Hsva(this.sliderH || this.hsva.h, 1, 1, 1)));\n\n      if (update) {\n        this.hslaText = new Hsla(Math.round((hsla.h) * 360), Math.round(hsla.s * 100), Math.round(hsla.l * 100),\n          Math.round(hsla.a * 100) / 100);\n\n        this.rgbaText = new Rgba(rgba.r, rgba.g, rgba.b, Math.round(rgba.a * 100) / 100);\n\n        if (this.cpCmykEnabled) {\n          this.cmykText = new Cmyk(this.cmyk.c, this.cmyk.m, this.cmyk.y, this.cmyk.k,\n            Math.round(this.cmyk.a * 100) / 100);\n        }\n\n        const allowHex8 = this.cpAlphaChannel === 'always';\n\n        this.hexText = this.service.rgbaToHex(rgba, allowHex8);\n        this.hexAlpha = this.rgbaText.a;\n      }\n\n      if (this.cpOutputFormat === 'auto') {\n        if (this.format !== ColorFormats.RGBA && this.format !== ColorFormats.CMYK) {\n          if (this.hsva.a < 1) {\n            this.format = this.hsva.a < 1 ? ColorFormats.RGBA : ColorFormats.HEX;\n          }\n        }\n      }\n\n      this.hueSliderColor = 'rgb(' + hue.r + ',' + hue.g + ',' + hue.b + ')';\n      this.alphaSliderColor = 'rgb(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ')';\n\n      this.outputColor = this.service.outputFormat(this.hsva, this.cpOutputFormat, this.cpAlphaChannel);\n      this.selectedColor = this.service.outputFormat(this.hsva, 'rgba', null);\n\n      if (this.format !== ColorFormats.CMYK) {\n        this.cmykColor = '';\n      } else {\n        if (this.cpAlphaChannel === 'always' || this.cpAlphaChannel === 'enabled' ||\n          this.cpAlphaChannel === 'forced')\n        {\n          const alpha = Math.round(this.cmyk.a * 100) / 100;\n\n          this.cmykColor = `cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${alpha})`;\n        } else {\n          this.cmykColor = `cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;\n        }\n      }\n\n      this.slider = new SliderPosition(\n        (this.sliderH || this.hsva.h) * this.sliderDimMax.h - 8,\n        this.hsva.s * this.sliderDimMax.s - 8,\n        (1 - this.hsva.v) * this.sliderDimMax.v - 8,\n        this.hsva.a * this.sliderDimMax.a - 8\n      );\n\n      if (emit && lastOutput !== this.outputColor) {\n        if (this.cpCmykEnabled) {\n          this.directiveInstance.cmykChanged(this.cmykColor);\n        }\n\n        this.directiveInstance.colorChanged(this.outputColor);\n      }\n    }\n  }\n\n  // Private helper functions for the color picker dialog positioning\n\n  private setDialogPosition(): void {\n    if (this.cpDialogDisplay === 'inline') {\n      this.position = 'relative';\n    } else {\n      let position = 'static', transform = '', style;\n\n      let parentNode: any = null, transformNode: any = null;\n\n      let node = this.directiveElementRef.nativeElement.parentNode;\n\n      const dialogHeight = this.dialogElement.nativeElement.offsetHeight;\n\n      while (node !== null && node.tagName !== 'HTML') {\n        style = window.getComputedStyle(node);\n        position = style.getPropertyValue('position');\n        transform = style.getPropertyValue('transform');\n\n        if (position !== 'static' && parentNode === null) {\n          parentNode = node;\n        }\n\n        if (transform && transform !== 'none' && transformNode === null) {\n          transformNode = node;\n        }\n\n        if (position === 'fixed') {\n          parentNode = transformNode;\n\n          break;\n        }\n\n        node = node.parentNode;\n      }\n\n      const boxDirective = this.createDialogBox(this.directiveElementRef.nativeElement, (position !== 'fixed'));\n\n      if (this.useRootViewContainer || (position === 'fixed' &&\n         (!parentNode || parentNode instanceof HTMLUnknownElement)))\n      {\n        this.top = boxDirective.top;\n        this.left = boxDirective.left;\n      } else {\n        if (parentNode === null) {\n          parentNode = node;\n        }\n\n        const boxParent = this.createDialogBox(parentNode, (position !== 'fixed'));\n\n        this.top = boxDirective.top - boxParent.top;\n        this.left = boxDirective.left - boxParent.left;\n      }\n\n      if (position === 'fixed') {\n        this.position = 'fixed';\n      }\n\n      let usePosition = this.cpPosition;\n\n      if (this.cpPosition === 'auto') {\n        const dialogBounds = this.dialogElement.nativeElement.getBoundingClientRect();\n        const triggerBounds = this.cpTriggerElement.nativeElement.getBoundingClientRect();\n        usePosition = calculateAutoPositioning(dialogBounds, triggerBounds);\n      }\n\n      if (usePosition === 'top') {\n        this.arrowTop = dialogHeight - 1;\n\n        this.top -= dialogHeight + this.dialogArrowSize;\n        this.left += this.cpPositionOffset / 100 * boxDirective.width - this.dialogArrowOffset;\n      } else if (usePosition === 'bottom') {\n        this.top += boxDirective.height + this.dialogArrowSize;\n        this.left += this.cpPositionOffset / 100 * boxDirective.width - this.dialogArrowOffset;\n      } else if (usePosition === 'top-left' || usePosition === 'left-top') {\n        this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\n        this.left -= this.cpWidth + this.dialogArrowSize - 2 - this.dialogArrowOffset;\n      } else if (usePosition === 'top-right' || usePosition === 'right-top') {\n        this.top -= dialogHeight - boxDirective.height + boxDirective.height * this.cpPositionOffset / 100;\n        this.left += boxDirective.width + this.dialogArrowSize - 2 - this.dialogArrowOffset;\n      } else if (usePosition === 'left' || usePosition === 'bottom-left' ||  usePosition === 'left-bottom') {\n        this.top += boxDirective.height * this.cpPositionOffset / 100 - this.dialogArrowOffset;\n        this.left -= this.cpWidth + this.dialogArrowSize - 2;\n      } else { // usePosition === 'right' || usePosition === 'bottom-right' || usePosition === 'right-bottom'\n        this.top += boxDirective.height * this.cpPositionOffset / 100 - this.dialogArrowOffset;\n        this.left += boxDirective.width + this.dialogArrowSize - 2;\n      }\n\n      this.cpUsePosition = usePosition;\n    }\n  }\n\n  // Private helper functions for the color picker dialog positioning and opening\n\n  private isDescendant(parent: any, child: any): boolean {\n    let node: any = child.parentNode;\n\n    while (node !== null) {\n      if (node === parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n\n  private createDialogBox(element: any, offset: boolean): any {\n    return {\n      top: element.getBoundingClientRect().top + (offset ? window.pageYOffset : 0),\n      left: element.getBoundingClientRect().left + (offset ? window.pageXOffset : 0),\n      width: element.offsetWidth,\n      height: element.offsetHeight\n    };\n  }\n}\n","import { Directive, OnChanges, OnDestroy, Input, Output, EventEmitter,\n  HostListener, ApplicationRef, ComponentRef, ElementRef, ViewContainerRef,\n  Injector, ReflectiveInjector, ComponentFactoryResolver, EmbeddedViewRef } from '@angular/core';\n\nimport { ColorPickerService } from './color-picker.service';\nimport { ColorPickerComponent } from './color-picker.component';\n\nimport { AlphaChannel, ColorMode, OutputFormat } from './helpers';\n\n@Directive({\n  selector: '[colorPicker]',\n  exportAs: 'ngxColorPicker'\n})\nexport class ColorPickerDirective implements OnChanges, OnDestroy {\n  private dialog: any;\n\n  private dialogCreated: boolean = false;\n  private ignoreChanges: boolean = false;\n\n  private cmpRef: ComponentRef<ColorPickerComponent>;\n  private viewAttachedToAppRef: boolean = false;\n\n  @Input() colorPicker: string;\n\n  @Input() cpWidth: string = '230px';\n  @Input() cpHeight: string = 'auto';\n\n  @Input() cpToggle: boolean = false;\n  @Input() cpDisabled: boolean = false;\n\n  @Input() cpIgnoredElements: any = [];\n\n  @Input() cpFallbackColor: string = '';\n\n  @Input() cpColorMode: ColorMode = 'color';\n\n  @Input() cpCmykEnabled: boolean = false;\n\n  @Input() cpOutputFormat: OutputFormat = 'auto';\n  @Input() cpAlphaChannel: AlphaChannel = 'enabled';\n\n  @Input() cpDisableInput: boolean = false;\n\n  @Input() cpDialogDisplay: string = 'popup';\n\n  @Input() cpSaveClickOutside: boolean = true;\n  @Input() cpCloseClickOutside: boolean = true;\n\n  @Input() cpUseRootViewContainer: boolean = false;\n\n  @Input() cpPosition: string = 'auto';\n  @Input() cpPositionOffset: string = '0%';\n  @Input() cpPositionRelativeToArrow: boolean = false;\n\n  @Input() cpOKButton: boolean = false;\n  @Input() cpOKButtonText: string = 'OK';\n  @Input() cpOKButtonClass: string = 'cp-ok-button-class';\n\n  @Input() cpCancelButton: boolean = false;\n  @Input() cpCancelButtonText: string = 'Cancel';\n  @Input() cpCancelButtonClass: string = 'cp-cancel-button-class';\n\n  @Input() cpPresetLabel: string = 'Preset colors';\n  @Input() cpPresetColors: string[];\n  @Input() cpPresetColorsClass: string = 'cp-preset-colors-class';\n  @Input() cpMaxPresetColorsLength: number = 6;\n\n  @Input() cpPresetEmptyMessage: string = 'No colors added';\n  @Input() cpPresetEmptyMessageClass: string = 'preset-empty-message';\n\n  @Input() cpAddColorButton: boolean = false;\n  @Input() cpAddColorButtonText: string = 'Add color';\n  @Input() cpAddColorButtonClass: string = 'cp-add-color-button-class';\n\n  @Input() cpRemoveColorButtonClass: string = 'cp-remove-color-button-class';\n\n  @Output() cpInputChange = new EventEmitter<{input: string, value: number | string, color: string}>(true);\n\n  @Output() cpToggleChange = new EventEmitter<boolean>(true);\n\n  @Output() cpSliderChange = new EventEmitter<{slider: string, value: string | number, color: string}>(true);\n  @Output() cpSliderDragEnd = new EventEmitter<{slider: string, color: string}>(true);\n  @Output() cpSliderDragStart = new EventEmitter<{slider: string, color: string}>(true);\n\n  @Output() colorPickerOpen = new EventEmitter<string>(true);\n  @Output() colorPickerClose = new EventEmitter<string>(true);\n\n  @Output() colorPickerCancel = new EventEmitter<string>(true);\n  @Output() colorPickerSelect = new EventEmitter<string>(true);\n  @Output() colorPickerChange = new EventEmitter<string>(false);\n\n  @Output() cpCmykColorChange = new EventEmitter<string>(true);\n\n  @Output() cpPresetColorsChange = new EventEmitter<any>(true);\n\n  @HostListener('click') handleClick(): void {\n    this.inputFocus();\n  }\n\n  @HostListener('focus') handleFocus(): void {\n    this.inputFocus();\n  }\n\n  @HostListener('input', ['$event']) handleInput(event: any): void {\n    this.inputChange(event);\n  }\n\n  constructor(private injector: Injector, private cfr: ComponentFactoryResolver,\n    private appRef: ApplicationRef, private vcRef: ViewContainerRef, private elRef: ElementRef,\n    private _service: ColorPickerService) {}\n\n  ngOnDestroy(): void {\n    if (this.cmpRef != null) {\n      if (this.viewAttachedToAppRef) {\n        this.appRef.detachView(this.cmpRef.hostView);\n      }\n\n      this.cmpRef.destroy();\n\n      this.cmpRef = null;\n      this.dialog = null;\n    }\n  }\n\n  ngOnChanges(changes: any): void {\n    if (changes.cpToggle && !this.cpDisabled) {\n      if (changes.cpToggle.currentValue) {\n        this.openDialog();\n      } else if (!changes.cpToggle.currentValue) {\n        this.closeDialog();\n      }\n    }\n\n    if (changes.colorPicker) {\n      if (this.dialog && !this.ignoreChanges) {\n        if (this.cpDialogDisplay === 'inline') {\n          this.dialog.setInitialColor(changes.colorPicker.currentValue);\n        }\n\n        this.dialog.setColorFromString(changes.colorPicker.currentValue, false);\n\n        if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {\n          this.cmpRef.changeDetectorRef.detectChanges();\n        }\n      }\n\n      this.ignoreChanges = false;\n    }\n\n    if (changes.cpPresetLabel || changes.cpPresetColors) {\n      if (this.dialog) {\n        this.dialog.setPresetConfig(this.cpPresetLabel, this.cpPresetColors);\n      }\n    }\n  }\n\n  public openDialog(): void {\n    if (!this.dialogCreated) {\n      let vcRef = this.vcRef;\n\n      this.dialogCreated = true;\n      this.viewAttachedToAppRef = false;\n\n      if (this.cpUseRootViewContainer && this.cpDialogDisplay !== 'inline') {\n        const classOfRootComponent = this.appRef.componentTypes[0];\n        const appInstance = this.injector.get(classOfRootComponent, Injector.NULL);\n\n        if (appInstance !== Injector.NULL) {\n          vcRef = appInstance.vcRef || appInstance.viewContainerRef || this.vcRef;\n\n          if (vcRef === this.vcRef) {\n            console.warn('You are using cpUseRootViewContainer, ' +\n              'but the root component is not exposing viewContainerRef!' +\n              'Please expose it by adding \\'public vcRef: ViewContainerRef\\' to the constructor.');\n          }\n        } else {\n          this.viewAttachedToAppRef = true;\n        }\n      }\n\n      const compFactory = this.cfr.resolveComponentFactory(ColorPickerComponent);\n\n      if (this.viewAttachedToAppRef) {\n        this.cmpRef = compFactory.create(this.injector);\n        this.appRef.attachView(this.cmpRef.hostView);\n        document.body.appendChild((this.cmpRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement);\n      } else {\n        const injector = ReflectiveInjector.fromResolvedProviders([], vcRef.parentInjector);\n\n        this.cmpRef = vcRef.createComponent(compFactory, 0, injector, []);\n      }\n\n      this.cmpRef.instance.setupDialog(this, this.elRef, this.colorPicker,\n        this.cpWidth, this.cpHeight, this.cpDialogDisplay, this.cpFallbackColor, this.cpColorMode,\n        this.cpCmykEnabled, this.cpAlphaChannel, this.cpOutputFormat, this.cpDisableInput,\n        this.cpIgnoredElements, this.cpSaveClickOutside, this.cpCloseClickOutside,\n        this.cpUseRootViewContainer, this.cpPosition, this.cpPositionOffset,\n        this.cpPositionRelativeToArrow, this.cpPresetLabel, this.cpPresetColors,\n        this.cpPresetColorsClass, this.cpMaxPresetColorsLength, this.cpPresetEmptyMessage,\n        this.cpPresetEmptyMessageClass, this.cpOKButton, this.cpOKButtonClass,\n        this.cpOKButtonText, this.cpCancelButton, this.cpCancelButtonClass,\n        this.cpCancelButtonText, this.cpAddColorButton, this.cpAddColorButtonClass,\n        this.cpAddColorButtonText, this.cpRemoveColorButtonClass, this.elRef);\n\n      this.dialog = this.cmpRef.instance;\n\n      if (this.vcRef !== vcRef) {\n        this.cmpRef.changeDetectorRef.detectChanges();\n      }\n    } else if (this.dialog) {\n      this.dialog.openDialog(this.colorPicker);\n    }\n  }\n\n  public closeDialog(): void {\n    if (this.dialog && this.cpDialogDisplay === 'popup') {\n      this.dialog.closeDialog();\n    }\n  }\n\n  public cmykChanged(value: string): void {\n    this.cpCmykColorChange.emit(value);\n  }\n\n  public stateChanged(state: boolean): void {\n    this.cpToggleChange.emit(state);\n\n    if (state) {\n      this.colorPickerOpen.emit(this.colorPicker);\n    } else {\n      this.colorPickerClose.emit(this.colorPicker);\n    }\n  }\n\n  public colorChanged(value: string, ignore: boolean = true): void {\n    this.ignoreChanges = ignore;\n\n    this.colorPickerChange.emit(value);\n  }\n\n  public colorSelected(value: string): void {\n    this.colorPickerSelect.emit(value);\n  }\n\n  public colorCanceled(): void {\n    this.colorPickerCancel.emit();\n  }\n\n  public inputFocus(): void {\n    const element = this.elRef.nativeElement;\n\n    const ignored = this.cpIgnoredElements.filter((item: any) => item === element);\n\n    if (!this.cpDisabled && !ignored.length) {\n      if (typeof document !== 'undefined' && element === document.activeElement) {\n        this.openDialog();\n      } else if (!this.dialog || !this.dialog.show) {\n        this.openDialog();\n      } else {\n        this.closeDialog();\n      }\n    }\n  }\n\n  public inputChange(event: any): void {\n    if (this.dialog) {\n      this.dialog.setColorFromString(event.target.value, true);\n    } else {\n      this.colorPicker = event.target.value;\n\n      this.colorPickerChange.emit(this.colorPicker);\n    }\n  }\n\n  public inputChanged(event: any): void {\n    this.cpInputChange.emit(event);\n  }\n\n  public sliderChanged(event: any): void {\n    this.cpSliderChange.emit(event);\n  }\n\n  public sliderDragEnd(event: { slider: string, color: string }): void {\n    this.cpSliderDragEnd.emit(event);\n  }\n\n  public sliderDragStart(event: { slider: string, color: string }): void {\n    this.cpSliderDragStart.emit(event);\n  }\n\n  public presetColorsChanged(value: any[]): void {\n    this.cpPresetColorsChange.emit(value);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TextDirective, SliderDirective } from './helpers';\n\nimport { ColorPickerService } from './color-picker.service';\nimport { ColorPickerComponent } from './color-picker.component';\nimport { ColorPickerDirective } from './color-picker.directive';\n\n@NgModule({\n  imports: [ CommonModule ],\n  exports: [ ColorPickerDirective ],\n  providers: [ ColorPickerService ],\n  declarations: [ ColorPickerComponent, ColorPickerDirective, TextDirective, SliderDirective ],\n  entryComponents: [ ColorPickerComponent ]\n})\nexport class ColorPickerModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"sourceRoot":"webpack:///"}